# @livai/core-contracts

Core Contracts - Базовый слой контрактов для эффектов, аутентификации, домена, ошибок и
инфраструктуры платформы LivAI.

## Обзор

Этот пакет предоставляет фундаментальные контракты и типы для платформы LivAI, построенные с
использованием TypeScript и принципов функционального программирования с библиотекой Effect.

## Возможности

- **Система эффектов**: Чистые FP эффекты с паттернами Effect, TaskEither, Result, Option
- **Аутентификация**: Контекст аутентификации, сервисы и контракты валидации
- **Слой домена**: Паттерны DDD, агрегаты, сущности, value objects
- **Обработка ошибок**: Комплексные типы ошибок и паттерны обработки
- **Инфраструктура**: Контракты базы данных, кеша, очередей и наблюдаемости
- **CI/CD**: Контексты сборки и развертывания
- **Интеграция с React**: Хуки и провайдеры для React приложений

## Установка

```bash
pnpm add @livai/core-contracts
```

## Использование

### Система эффектов

```typescript
import { Effect, TaskEither } from '@livai/core-contracts/effect';

// Чистые функции с эффектами
const myEffect: Effect.Effect<never, Error, string> = Effect.succeed('Hello World');
```

### Сущности домена

```typescript
import { BaseEntity, AuditableEntity } from '@livai/core-contracts/domain';

class User extends AuditableEntity {
  // Реализация сущности домена
}
```

### Обработка ошибок

```typescript
import { DomainException } from '@livai/core-contracts/errors';

throw new DomainException('Неверное состояние пользователя');
```

## Разработка

### Предварительные требования

- Node.js >= 24.0.0
- pnpm >= 10.0.0
- TypeScript >= 5.9.3

### Скрипты

```bash
# Сборка
pnpm build

# Тестирование
pnpm test

# Линтинг
pnpm lint

# Проверка типов
pnpm type-check

# Режим разработки с отслеживанием
pnpm dev
```

## Архитектура

Пакет следует многослойной архитектуре:

- **Слой эффектов**: Базовые FP паттерны и утилиты
- **Слой домена**: Бизнес-логика и паттерны DDD
- **Инфраструктурный слой**: Контракты внешних систем
- **Слой аутентификации**: Аутентификация и авторизация
- **CI слой**: Контракты сборки и развертывания
- **React слой**: Паттерны интеграции UI

## Содействие

1. Соблюдайте строгий режим TypeScript
2. Поддерживайте покрытие тестами 85%+
3. Используйте паттерны функционального программирования
4. Соблюдайте принципы DDD для логики домена

## Лицензия

MIT
