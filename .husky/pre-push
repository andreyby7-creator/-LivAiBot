#!/usr/bin/env bash
# Pre-push hook for essential quality checks
# Runs fast checks before pushing to remote

echo "ğŸš€ Running pre-push checks..."

# 1. TypeScript type checking (global)
echo "  ğŸ” Running TypeScript type check..."
if ! pnpm run type-check; then
  echo "  âŒ TypeScript type check failed"
  exit 1
fi

# 2. ESLint canary linting (global)
echo "  ğŸ“ Running ESLint canary linting..."
if ! pnpm run lint:canary; then
  echo "  âŒ ESLint linting failed"
  exit 1
fi

# 3. Code formatting with dprint
echo "  ğŸ¨ Running code formatting..."
if ! npx dprint check; then
  echo "  âŒ Code formatting check failed"
  echo "  ğŸ’¡ Run: npx dprint fmt"
  exit 1
fi

echo "âœ… Pre-push checks passed!"

