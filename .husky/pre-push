#!/usr/bin/env bash
# Pre-push hook for essential quality checks
# Runs fast checks before pushing to remote

set -e

echo "ğŸš€ Running pre-push checks..."

# 1. TypeScript type checking (global)
echo "  ğŸ” Running TypeScript type check..."
pnpm run type-check || {
  echo "  âŒ TypeScript type check failed"
  exit 1
}

# 2. ESLint canary linting (global)
echo "  ğŸ“ Running ESLint canary linting..."
pnpm run lint:canary || {
  echo "  âŒ ESLint linting failed"
  exit 1
}

# 3. Code formatting with dprint
echo "  ğŸ¨ Running code formatting..."
npx dprint check || {
  echo "  âŒ Code formatting check failed"
  echo "  ğŸ’¡ Run: npx dprint fmt"
  exit 1
}

echo "âœ… Pre-push checks passed!"

