domain-subscriptions/ # ğŸ¯ Ğ”Ğ¾Ğ¼ĞµĞ½ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº (TypeScript + FP + Effect)

# ğŸ”´ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§ĞĞ: Repository interfaces Ğ¿ĞµÑ€ĞµĞ½ĞµÑĞµĞ½Ñ‹ Ğ² application-core/ports/

# Domain ĞĞ• Ğ·Ğ½Ğ°ĞµÑ‚ Ğ¾ persistence! Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ°, Ğ¸Ğ½Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹, Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°.

â”œâ”€â”€ README.md # ğŸ”¹ ĞĞ±Ğ·Ğ¾Ñ€ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ°: Aggregates, VO, Events, Specifications, FP Ğ¸ Effect Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ñ‹ â”œâ”€â”€
index.ts # ğŸ”¹ Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ĞµĞ¹, ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ², ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¹ â”œâ”€â”€ entities/ # ğŸ”¹
Aggregates / Entities (TypeScript + FP + Effect) â”‚ â”œâ”€â”€ README.md # ğŸ”¹ Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ÑĞ¼:
Aggregates Ğ¸ Entities, FP/DDD Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹, Effect â”‚ â”œâ”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… entity/aggregates â”‚
â”œâ”€â”€ Subscription.ts # ğŸ”¹ Aggregate: Subscription, Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ/ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ, FP + Effect â”‚
â”œâ”€â”€ Plan.ts # ğŸ”¹ VO: ĞŸĞ»Ğ°Ğ½ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸, immutable, FP â”‚ â””â”€â”€ SubscriptionUsage.ts # ğŸ”¹ Aggregate/VO:
Ğ¾Ñ‚ÑĞ»ĞµĞ¶Ğ¸Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸, FP â”œâ”€â”€ value-objects/ # ğŸ”¹ Value Objects (immutable, FP) â”‚ â”œâ”€â”€
README.md # ğŸ”¹ Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ VO: immutability, ÑÑ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ, FP-Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ â”‚ â”œâ”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚
Ğ²ÑĞµÑ… VO â”‚ â”œâ”€â”€ SubscriptionId.ts # ğŸ”¹ VO: Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸, immutable, FP â”‚ â”œâ”€â”€ PlanId.ts # ğŸ”¹
VO: Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ»Ğ°Ğ½Ğ°, immutable, FP â”‚ â””â”€â”€ UserId.ts # ğŸ”¹ VO: Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ,
immutable, FP â”œâ”€â”€ services/ # ğŸ”¹ Domain Services (Pure / FP Effects) â”‚ â”œâ”€â”€ README.md # ğŸ”¹
Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼: Ñ‡Ğ¸ÑÑ‚Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸, ÑÑ„Ñ„ĞµĞºÑ‚Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸, FP/Effect â”‚ â”œâ”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚
Ğ²ÑĞµÑ… domain services â”‚ â”œâ”€â”€ SubscriptionService.ts # ğŸ”¹ Ğ¡ĞµÑ€Ğ²Ğ¸Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ°Ğ¼Ğ¸, Effect + FP â”‚
â”œâ”€â”€ PlanManagementService.ts # ğŸ”¹ Ğ¡ĞµÑ€Ğ²Ğ¸Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ»Ğ°Ğ½Ğ°Ğ¼Ğ¸ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸, FP + Effect â”‚ â””â”€â”€
SubscriptionUsageService.ts # ğŸ”¹ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº, FP + Effect â”œâ”€â”€ events/ # ğŸ”¹
Domain Events (immutable, FP) â”‚ â”œâ”€â”€ README.md # ğŸ”¹ Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸ÑĞ¼: Event-driven, immutable,
FP â”‚ â”œâ”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… domain events â”‚ â”œâ”€â”€ SubscriptionCreatedEvent.ts # ğŸ”¹ Event:
Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ° â”‚ â”œâ”€â”€ SubscriptionCancelledEvent.ts # ğŸ”¹ Event: Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ° â”‚ â””â”€â”€
PlanChangedEvent.ts # ğŸ”¹ Event: ÑĞ¼ĞµĞ½Ğ° Ğ¿Ğ»Ğ°Ğ½Ğ° â”œâ”€â”€ specifications/ # ğŸ”¹ Domain Specifications /
Business Rules â”‚ â”œâ”€â”€ README.md # ğŸ”¹ Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸ÑĞ¼: ĞºĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ°, FP
â”‚ â”œâ”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… specifications â”‚ â”œâ”€â”€ MaxSubscriptionsPerUserSpec.ts # ğŸ”¹
Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ: Ğ¼Ğ°ĞºÑ. ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº Ğ½Ğ° Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ â”‚ â”œâ”€â”€ PlanEligibilitySpec.ts # ğŸ”¹
Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ: ÑĞ¾Ğ¾Ñ‚Ğ²ĞµÑ‚ÑÑ‚Ğ²Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¿Ğ»Ğ°Ğ½Ñƒ â”‚ â””â”€â”€ SubscriptionActiveSpec.ts # ğŸ”¹ Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ:
Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ° â”œâ”€â”€ factories/ # ğŸ”¹ Aggregate/Entity Factories â”‚ â”œâ”€â”€ README.md # ğŸ”¹
Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Ñ„Ğ°Ğ±Ñ€Ğ¸ĞºĞ°Ğ¼: ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ‚Ğ¾Ğ² Ğ¸ VO, Ñ‡Ğ¸ÑÑ‚Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸, FP â”‚ â”œâ”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚
Ğ²ÑĞµÑ… Ñ„Ğ°Ğ±Ñ€Ğ¸Ğº â”‚ â”œâ”€â”€ SubscriptionFactory.ts # ğŸ”¹ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€Ğ¾Ğ² Subscription, FP + Pure Function
â”‚ â”œâ”€â”€ PlanFactory.ts # ğŸ”¹ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€Ğ¾Ğ² Plan, FP + Pure Function â”‚ â””â”€â”€
SubscriptionUsageFactory.ts # ğŸ”¹ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑĞºĞ·ĞµĞ¼Ğ¿Ğ»ÑÑ€Ğ¾Ğ² SubscriptionUsage, FP + Pure Function â”œâ”€â”€
state-machines/ # ğŸ”¹ Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ°Ğ¼Ğ¸ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ‚Ğ¾Ğ² â”‚ â”œâ”€â”€ README.md # ğŸ”¹ Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾
ÑÑ‚ĞµĞ¹Ñ‚-Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ°Ğ¼: Ğ¶Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ» Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ‚Ğ¾Ğ² â”‚ â”œâ”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… state machines â”‚ â”œâ”€â”€
SubscriptionStateMachine.ts # ğŸ”¹ Ğ¡Ñ‚ĞµĞ¹Ñ‚-Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ° Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸ (active/inactive/cancelled) â”‚ â””â”€â”€
PlanStateMachine.ts # ğŸ”¹ Ğ¡Ñ‚ĞµĞ¹Ñ‚-Ğ¼Ğ°ÑˆĞ¸Ğ½Ğ° Ğ¿Ğ»Ğ°Ğ½Ğ° (available/retired) â”œâ”€â”€ unit-of-work/ # ğŸ”¹ Unit of Work
Ğ´Ğ»Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¹ Ñ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ‚Ğ°Ğ¼Ğ¸ â”‚ â”œâ”€â”€ README.md # ğŸ”¹ Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ UoW: Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ‚Ğ¾Ğ², FP +
Effect â”‚ â””â”€â”€ ISubscriptionsUnitOfWork.ts # ğŸ”¹ Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ UoW Ğ´Ğ»Ñ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ° Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº â””â”€â”€ test/ # ğŸ”¹ Unit
Ğ¸ property-based Ñ‚ĞµÑÑ‚Ñ‹ (FP + Effect) â”œâ”€â”€ README.md # ğŸ”¹ Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ° â”œâ”€â”€
index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… Ñ‚ĞµÑÑ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ â”œâ”€â”€ entities/ â”‚ â”œâ”€â”€ README.md â”‚ â”œâ”€â”€ index.ts # ğŸ”¹
Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… Ñ‚ĞµÑÑ‚Ğ¾Ğ² entity â”‚ â”œâ”€â”€ Subscription.test.ts # ğŸ”¹ Unit Test Ğ´Ğ»Ñ Subscription, FP + Effect â”‚
â””â”€â”€ Plan.test.ts # ğŸ”¹ Unit Test Ğ´Ğ»Ñ Plan, FP + Effect â”œâ”€â”€ services/ â”‚ â”œâ”€â”€ README.md â”‚ â”œâ”€â”€ index.ts #
ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… Ñ‚ĞµÑÑ‚Ğ¾Ğ² service â”‚ â”œâ”€â”€ SubscriptionService.test.ts # ğŸ”¹ Unit Test Ğ´Ğ»Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ°
Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº, FP + Effect â”‚ â””â”€â”€ PlanManagementService.test.ts # ğŸ”¹ Unit Test Ğ´Ğ»Ñ ÑĞµÑ€Ğ²Ğ¸ÑĞ° Ğ¿Ğ»Ğ°Ğ½Ğ¾Ğ², FP +
Effect â””â”€â”€ specifications/ â”œâ”€â”€ README.md â”œâ”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… Ñ‚ĞµÑÑ‚Ğ¾Ğ² ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¹ â””â”€â”€
MaxSubscriptionsPerUserSpec.test.ts # ğŸ”¹ Unit Test Ğ´Ğ»Ñ ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ¼Ğ°ĞºÑ. Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº, FP
