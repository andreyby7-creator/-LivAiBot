infrastructure-graphql-api/ â”œâ”€â”€ README.md # ğŸ”¹ ĞĞ±Ğ·Ğ¾Ñ€ GraphQL API: Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑÑ…ĞµĞ¼, Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ,
Ğ¼Ğ¸Ğ´Ğ»Ğ²Ğ°Ñ€Ñ‹, Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸ â”œâ”€â”€ index.ts # ğŸ”¹ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… API ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚ â”œâ”€â”€
schema/ # ğŸ”¹ ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ GraphQL ÑÑ…ĞµĞ¼ (TypeScript + GraphQL) â”‚ â”œâ”€â”€ README.md # ğŸ”¹ ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑÑ…ĞµĞ¼
Ğ¿Ğ¾ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ°Ğ¼: user, subscription, bots â”‚ â”œâ”€â”€ user-schema.ts # ğŸ”¹ Ğ¢Ğ¸Ğ¿Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ° Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
â”‚ â”œâ”€â”€ subscription-schema.ts # ğŸ”¹ Ğ¡Ñ…ĞµĞ¼Ğ° Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº â”‚ â”œâ”€â”€ bot-schema.ts # ğŸ”¹ Ğ¡Ñ…ĞµĞ¼Ğ° Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ² â”‚ â””â”€â”€
index.ts # ğŸ”¹ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ ÑÑ…ĞµĞ¼ â”œâ”€â”€ resolvers/ # ğŸ”¹ GraphQL Ñ€ĞµĞ·Ğ¾Ğ»Ğ²ĞµÑ€Ñ‹ (TypeScript + Effect) â”‚ â”œâ”€â”€
README.md # ğŸ”¹ Ğ ĞµĞ·Ğ¾Ğ»Ğ²ĞµÑ€Ñ‹ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ñ‹ Ğ±Ñ‹Ñ‚ÑŒ Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¼Ğ¸ (pure) Ğ¸ Ğ±ĞµĞ· Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ â”‚ â”œâ”€â”€ user-resolver.ts # ğŸ”¹
Ğ ĞµĞ·Ğ¾Ğ»Ğ²ĞµÑ€Ñ‹ Ğ´Ğ»Ñ user queries/mutations â”‚ â”œâ”€â”€ subscription-resolver.ts # ğŸ”¹ Ğ ĞµĞ·Ğ¾Ğ»Ğ²ĞµÑ€Ñ‹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº â”‚
â”œâ”€â”€ bot-resolver.ts # ğŸ”¹ Ğ ĞµĞ·Ğ¾Ğ»Ğ²ĞµÑ€Ñ‹ Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ² â”‚ â””â”€â”€ index.ts # ğŸ”¹ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ñ€ĞµĞ·Ğ¾Ğ»Ğ²ĞµÑ€Ğ¾Ğ² â”œâ”€â”€
middleware/ # ğŸ”¹ GraphQL middleware pipeline â”‚ â”œâ”€â”€ README.md # ğŸ”¹ Ğ”Ğ»Ñ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ, observability,
auth/tenant context injection â”‚ â”œâ”€â”€ ErrorHandlingMiddleware.ts # ğŸ”¹ ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº â”‚ â”œâ”€â”€
ObservabilityMiddleware.ts # ğŸ”¹ ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸, telemetry â”‚ â”œâ”€â”€ TenantContextMiddleware.ts # ğŸ”¹ Ğ˜Ğ½ÑŠĞµĞºÑ†Ğ¸Ñ
tenant runtime context â”‚ â””â”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… middleware â”œâ”€â”€ utils/ # ğŸ”¹ Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ
Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ (TypeScript + FP + Effect) â”‚ â”œâ”€â”€ typeMappers.ts # ğŸ”¹ ĞœĞ°Ğ¿Ğ¿Ğ¸Ğ½Ğ³ DTO â†” GraphQL types â”‚ â”œâ”€â”€
validation.ts # ğŸ”¹ Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… â”‚ â””â”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚ â”œâ”€â”€ adapters/ # ğŸ”¹
Adapter layer Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ infra/microservices â”‚ â”œâ”€â”€ README.md # ğŸ”¹ Transport-only, Ğ±ĞµĞ·
Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ â”‚ â”œâ”€â”€ tenant-adapter.ts # ğŸ”¹ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ infrastructure-tenant â”‚ â”œâ”€â”€
ai-service-adapter.ts # ğŸ”¹ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ AI ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸ â”‚ â””â”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… adapters â””â”€â”€
test/ # âœ… Unit / Integration Ñ‚ĞµÑÑ‚Ñ‹ GraphQL API â”œâ”€â”€ resolvers.test.ts # ğŸ”¹ Ğ¢ĞµÑÑ‚Ñ‹ Ñ€ĞµĞ·Ğ¾Ğ»Ğ²ĞµÑ€Ğ¾Ğ² Ğ¸
Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ â”œâ”€â”€ middleware.test.ts # ğŸ”¹ Ğ¢ĞµÑÑ‚Ñ‹ middleware pipeline â””â”€â”€ schema.test.ts # ğŸ”¹ Ğ¢ĞµÑÑ‚Ñ‹ ÑÑ…ĞµĞ¼ Ğ¸
Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
