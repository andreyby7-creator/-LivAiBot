infrastructure-graphql-server/ â”œâ”€â”€ README.md # ğŸ”¹ ĞĞ±Ğ·Ğ¾Ñ€ GraphQL Ğ¸Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹: ÑÑ…ĞµĞ¼Ñ‹, resolvers,
middleware, subscriptions, Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ tenant/microservices â”œâ”€â”€ index.ts # ğŸ”¹ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚
ÑĞµÑ€Ğ²ĞµÑ€Ğ° Ğ¸ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚ GraphQL â”œâ”€â”€ schema/ # ğŸ”¹ GraphQL ÑÑ…ĞµĞ¼Ñ‹ Ğ¸ SDL â”‚ â”œâ”€â”€ README.md # ğŸ”¹ ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑÑ…ĞµĞ¼:
modular, Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹ SDL â”‚ â”œâ”€â”€ user-schema.ts # ğŸ”¹ Ğ¢Ğ¸Ğ¿Ñ‹, queries Ğ¸ mutations Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ â”‚ â”œâ”€â”€
subscription-schema.ts # ğŸ”¹ Queries Ğ¸ mutations Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº â”‚ â”œâ”€â”€ bot-schema.ts # ğŸ”¹ Queries,
mutations Ğ¸ subscriptions Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ² â”‚ â””â”€â”€ index.ts # ğŸ”¹ ĞĞ±ÑŠĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… ÑÑ…ĞµĞ¼ â”œâ”€â”€ resolvers/ # ğŸ”¹
GraphQL resolvers (TypeScript + FP + Effect) â”‚ â”œâ”€â”€ README.md # ğŸ”¹ Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ´Ğ¾Ğ¼ĞµĞ½Ğ°Ğ¼: Ñ‡Ğ¸ÑÑ‚Ñ‹Ğµ
Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸, composition â”‚ â”œâ”€â”€ user-resolver.ts # ğŸ”¹ Resolver Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ â”‚ â”œâ”€â”€
subscription-resolver.ts # ğŸ”¹ Resolver Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº â”‚ â”œâ”€â”€ bot-resolver.ts # ğŸ”¹ Resolver Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ¾Ğ² â”‚
â”œâ”€â”€ root-resolver.ts # ğŸ”¹ ĞĞ±ÑŠĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… resolvers â”‚ â””â”€â”€ index.ts # ğŸ”¹ Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ resolvers
â”œâ”€â”€ middleware/ # ğŸ”¹ GraphQL middleware pipeline (TypeScript + Effect) â”‚ â”œâ”€â”€ README.md # ğŸ”¹
ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ, error handling, observability â”‚ â”œâ”€â”€ AuthMiddleware.ts # ğŸ”¹ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°
Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ² Ğ¸ Ğ¿Ñ€Ğ°Ğ² Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° â”‚ â”œâ”€â”€ LoggingMiddleware.ts # ğŸ”¹ Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¸ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº â”‚ â”œâ”€â”€
ErrorHandlingMiddleware.ts # ğŸ”¹ Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ğ² GraphQL â”‚ â””â”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ…
middleware â”œâ”€â”€ subscriptions/ # ğŸ”¹ Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ GraphQL Subscriptions â”‚ â”œâ”€â”€ README.md # ğŸ”¹ WebSocket /
PubSub / Event-driven â”‚ â”œâ”€â”€ pubsub.ts # ğŸ”¹ ĞŸÑ€Ğ¾ÑÑ‚Ğ°Ñ in-memory Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ PubSub (Ğ´Ğ»Ñ dev) Ğ¸Ğ»Ğ¸
Ğ°Ğ´Ğ°Ğ¿Ñ‚ĞµÑ€Ñ‹ Ğ´Ğ»Ñ Redis / RabbitMQ â”‚ â””â”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº â”œâ”€â”€ adapters/ # ğŸ”¹ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ
Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸ / infra â”‚ â”œâ”€â”€ README.md # ğŸ”¹ transport-only adapters, no business logic â”‚ â”œâ”€â”€
tenant-adapter.ts # ğŸ”¹ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ infrastructure-tenant â”‚ â”œâ”€â”€ ai-service-adapter.ts # ğŸ”¹
Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ AI Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸ â”‚ â””â”€â”€ index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… adapters â”œâ”€â”€ utils/ # ğŸ”¹
Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ´Ğ»Ñ GraphQL â”‚ â”œâ”€â”€ schemaHelpers.ts # ğŸ”¹ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¸Ğ¿Ğ¾Ğ², scalars, validation
helpers â”‚ â”œâ”€â”€ resolverHelpers.ts # ğŸ”¹ common resolver helpers (lift, pipe, effect composition) â”‚ â””â”€â”€
index.ts # ğŸ”¹ Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ²ÑĞµÑ… ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚ â””â”€â”€ test/ # âœ… Unit / Integration Ñ‚ĞµÑÑ‚Ñ‹ â”œâ”€â”€ resolvers.test.ts # ğŸ”¹
Ğ¢ĞµÑÑ‚Ñ‹ resolvers Ñ mock data â”œâ”€â”€ schema.test.ts # ğŸ”¹ Ğ¢ĞµÑÑ‚Ñ‹ ÑÑ…ĞµĞ¼ Ğ¸ SDL â”œâ”€â”€ subscriptions.test.ts # ğŸ”¹
Ğ¢ĞµÑÑ‚Ñ‹ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº (PubSub) â””â”€â”€ adapters.test.ts # ğŸ”¹ Ğ¢ĞµÑÑ‚Ñ‹ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ Ñ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸ÑĞ°Ğ¼Ğ¸
